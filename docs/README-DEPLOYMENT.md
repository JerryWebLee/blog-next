# è’é‡åšå®¢ç³»ç»Ÿéƒ¨ç½²æ–‡æ¡£

## ğŸ“š æ–‡æ¡£æ¦‚è§ˆ

æœ¬ç›®å½•åŒ…å«äº†è’é‡åšå®¢ç³»ç»Ÿçš„å®Œæ•´éƒ¨ç½²æ–‡æ¡£å’Œå·¥å…·ï¼Œå¸®åŠ©æ‚¨ä»é›¶å¼€å§‹éƒ¨ç½²å’Œè¿è¡Œæ•´ä¸ªç³»ç»Ÿã€‚

## ğŸ“– æ–‡æ¡£åˆ—è¡¨

### 1. éƒ¨ç½²æŒ‡å—

- **æ–‡ä»¶**: `DEPLOYMENT-GUIDE.md`
- **å†…å®¹**: è¯¦ç»†çš„æ­¥éª¤æŒ‡å—ï¼ŒåŒ…å«æ¯ä¸ªéƒ¨ç½²æ­¥éª¤çš„è¯¦ç»†è¯´æ˜
- **é€‚ç”¨**: é¦–æ¬¡éƒ¨ç½²æˆ–éœ€è¦äº†è§£è¯¦ç»†è¿‡ç¨‹çš„ç”¨æˆ·

### 2. éƒ¨ç½²æ—¥å¿—

- **æ–‡ä»¶**: `DEPLOYMENT-LOG.md`
- **å†…å®¹**: å®é™…éƒ¨ç½²è¿‡ç¨‹çš„è¯¦ç»†æ—¥å¿—è®°å½•
- **é€‚ç”¨**: äº†è§£å®é™…éƒ¨ç½²è¿‡ç¨‹ä¸­å¯èƒ½é‡åˆ°çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

## ğŸ› ï¸ éƒ¨ç½²å·¥å…·

### 1. å¿«é€Ÿéƒ¨ç½²è„šæœ¬

- **æ–‡ä»¶**: `../scripts/deploy-from-scratch.sh`
- **åŠŸèƒ½**: ä¸€é”®ä»é›¶å¼€å§‹éƒ¨ç½²æ•´ä¸ªç³»ç»Ÿ
- **ä½¿ç”¨**: `./scripts/deploy-from-scratch.sh`

### 2. çŠ¶æ€æ£€æŸ¥è„šæœ¬

- **æ–‡ä»¶**: `../scripts/check-deployment-status.sh`
- **åŠŸèƒ½**: æ£€æŸ¥ç³»ç»Ÿéƒ¨ç½²çŠ¶æ€å’Œè¿è¡Œæƒ…å†µ
- **ä½¿ç”¨**: `./scripts/check-deployment-status.sh`

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨éƒ¨ç½²è„šæœ¬ï¼ˆæ¨èï¼‰

```bash
# ä¸€é”®éƒ¨ç½²
./scripts/deploy-from-scratch.sh

# æ£€æŸ¥çŠ¶æ€
./scripts/check-deployment-status.sh
```

### æ–¹æ³•äºŒï¼šæ‰‹åŠ¨éƒ¨ç½²

```bash
# 1. åˆ›å»ºMySQLå®¹å™¨
docker run --name blog-mysql \
  -e MYSQL_ROOT_PASSWORD=blog123456 \
  -e MYSQL_DATABASE=blog_system \
  -e MYSQL_CHARSET=utf8mb4 \
  -e MYSQL_COLLATION=utf8mb4_unicode_ci \
  -p 3306:3306 \
  -v /Users/harveylee/Documents/mysql-data:/var/lib/mysql \
  -d mysql:8.0

# 2. é…ç½®ç¯å¢ƒå˜é‡
cp env.example .env.local
sed -i '' 's/your_password_here/blog123456/g' .env.local
sed -i '' 's/your_jwt_secret_key_here/blog_jwt_secret_key_2024/g' .env.local

# 3. è¿è¡Œæ•°æ®åº“è¿ç§»
pnpm db:migrate

# 4. å¡«å……æµ‹è¯•æ•°æ®
pnpm db:seed

# 5. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev
```

## ğŸ“Š ç³»ç»Ÿè¦æ±‚

### å¿…éœ€è½¯ä»¶

- **Docker**: ç”¨äºè¿è¡ŒMySQLå®¹å™¨
- **Node.js**: ç‰ˆæœ¬ 18+
- **pnpm**: åŒ…ç®¡ç†å™¨
- **MySQL**: 8.0+ (é€šè¿‡Docker)

### ç³»ç»Ÿèµ„æº

- **å†…å­˜**: æœ€å°‘ 2GB RAM
- **ç£ç›˜**: æœ€å°‘ 1GB å¯ç”¨ç©ºé—´
- **ç«¯å£**: 3306 (MySQL), 3000 (Next.js)

## ğŸ”§ å¸¸ç”¨å‘½ä»¤

### Dockerç®¡ç†

```bash
# æŸ¥çœ‹å®¹å™¨çŠ¶æ€
docker ps | grep blog-mysql

# æŸ¥çœ‹å®¹å™¨æ—¥å¿—
docker logs blog-mysql

# åœæ­¢å®¹å™¨
docker stop blog-mysql

# å¯åŠ¨å®¹å™¨
docker start blog-mysql

# é‡å¯å®¹å™¨
docker restart blog-mysql
```

### æ•°æ®åº“ç®¡ç†

```bash
# æµ‹è¯•è¿æ¥
pnpm test:db:connect

# ç”Ÿæˆè¿ç§»
pnpm db:generate

# æ‰§è¡Œè¿ç§»
pnpm db:migrate

# æ¨é€schema
pnpm db:push

# æ‰“å¼€ç®¡ç†ç•Œé¢
pnpm db:studio

# å¡«å……æ•°æ®
pnpm db:seed
```

### åº”ç”¨ç®¡ç†

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
pnpm start

# è¿è¡Œæµ‹è¯•
pnpm test:api
```

## ğŸŒ è®¿é—®åœ°å€

éƒ¨ç½²æˆåŠŸåï¼Œæ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹åœ°å€è®¿é—®ç³»ç»Ÿï¼š

- **ä¸­æ–‡é¦–é¡µ**: http://localhost:3000/zh-CN
- **è‹±æ–‡é¦–é¡µ**: http://localhost:3000/en-US
- **æ—¥æ–‡é¦–é¡µ**: http://localhost:3000/ja-JP
- **åšå®¢åˆ—è¡¨**: http://localhost:3000/zh-CN/blog
- **åˆ†ç±»é¡µé¢**: http://localhost:3000/zh-CN/categories
- **æ ‡ç­¾é¡µé¢**: http://localhost:3000/zh-CN/tags
- **å…³äºé¡µé¢**: http://localhost:3000/zh-CN/about

## ğŸš¨ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. å®¹å™¨å¯åŠ¨å¤±è´¥

```bash
# æ£€æŸ¥ç«¯å£å ç”¨
lsof -i :3306

# æ£€æŸ¥æ•°æ®ç›®å½•æƒé™
ls -la /Users/harveylee/Documents/mysql-data

# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
docker logs blog-mysql
```

#### 2. æ•°æ®åº“è¿æ¥å¤±è´¥

```bash
# æ£€æŸ¥ç¯å¢ƒå˜é‡
cat .env.local

# æµ‹è¯•è¿æ¥
pnpm test:db:connect

# æ£€æŸ¥MySQLçŠ¶æ€
docker exec -it blog-mysql mysql -u root -p -e "SELECT 1;"
```

#### 3. åº”ç”¨å¯åŠ¨å¤±è´¥

```bash
# æ£€æŸ¥ä¾èµ–
pnpm install

# æ¸…ç†ç¼“å­˜
rm -rf .next

# é‡æ–°å¯åŠ¨
pnpm dev
```

## ğŸ“ éƒ¨ç½²æ£€æŸ¥æ¸…å•

### éƒ¨ç½²å‰

- [ ] Dockerå·²å®‰è£…å¹¶è¿è¡Œ
- [ ] Node.js 18+ å·²å®‰è£…
- [ ] pnpmå·²å®‰è£…
- [ ] é¡¹ç›®ä»£ç å·²å…‹éš†
- [ ] æ•°æ®ç›®å½•å·²åˆ›å»º

### éƒ¨ç½²ä¸­

- [ ] MySQLå®¹å™¨åˆ›å»ºæˆåŠŸ
- [ ] ç¯å¢ƒå˜é‡é…ç½®æ­£ç¡®
- [ ] æ•°æ®åº“è¿æ¥æµ‹è¯•é€šè¿‡
- [ ] æ•°æ®åº“è¿ç§»æ‰§è¡ŒæˆåŠŸ
- [ ] æµ‹è¯•æ•°æ®å¡«å……å®Œæˆ
- [ ] APIåŠŸèƒ½æµ‹è¯•é€šè¿‡

### éƒ¨ç½²å

- [ ] æ‰€æœ‰é¡µé¢å¯æ­£å¸¸è®¿é—®
- [ ] æ•°æ®åº“æ“ä½œæ­£å¸¸
- [ ] å¤šè¯­è¨€åˆ‡æ¢æ­£å¸¸
- [ ] å“åº”å¼è®¾è®¡æ­£å¸¸
- [ ] æ€§èƒ½è¡¨ç°è‰¯å¥½

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœæ‚¨åœ¨éƒ¨ç½²è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š

1. æŸ¥çœ‹è¯¦ç»†çš„éƒ¨ç½²æ—¥å¿—ï¼š`docs/DEPLOYMENT-LOG.md`
2. è¿è¡ŒçŠ¶æ€æ£€æŸ¥è„šæœ¬ï¼š`./scripts/check-deployment-status.sh`
3. æ£€æŸ¥å¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ
4. è”ç³»å¼€å‘å›¢é˜Ÿ

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ï¼Œè¯¦æƒ…è¯·æŸ¥çœ‹ [LICENSE](../LICENSE) æ–‡ä»¶ã€‚

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**æœ€åæ›´æ–°**: 2025-09-26  
**ç»´æŠ¤è€…**: å¼€å‘å›¢é˜Ÿ
